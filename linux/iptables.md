```text
百度 10.10.10.10
本地交换机 20.20.20.20 内网IP 192.168.0.1
内网服务器 192.168.0.11

每当有新的机器加入交换机时，都会由 DHCP（动态主机交换协议）分配新的ip地址

内网服务访问 10.10.10.10 时
src ip = 192.168.0.11 dst ip = 10.10.10.10 srv mac=自己的MAC dst mac = 路由器的MAC
查找本地路由表，转发给网关
destination        gateway                Use Iface
0.0.0.0            192.168.0.1            eth0

交换机获取到数据包，MAC地址是自己，但是目标IP不是自己，则会查路由表
这时dst mac会变成运营商的网络节点
再发出之前，src ip变为路由器的ip 20.20.20.20
destination        gateway                Use Iface
0.0.0.0            运营商                 wan0
192.168.0.x        192.168.0.1            lan0

百度收到的 src ip 20.20.20.20，dst ip 10.10.10.10
百度回包，被路由器接受
路由器接收后，再转化为 dst ip 192.168.0.11
然后再查路由表，找到为本机的网关
```



